import React, { PureComponent } from 'react';
import {
  Chart,
  ChartWhiteTheme,
  CandleStickDrawer,
  CandleStickVolumeDrawer,
  createYAxisPlugin,
  formateDate,
} from '@gitpad/finance-chart';
import clamp from 'lodash/clamp';

class CandleStickChart extends PureComponent {
  rootNode = null
  /**
   * @type {Chart} chart instant
   */
  chart = null
  componentDidMount() {
    this.chart = new Chart({
      theme: ChartWhiteTheme,
      selector: this.rootNode,
      count: 40,
      data: [],
      mainDrawer: {
        constructor: CandleStickDrawer,
        options: {
          plugins: [
            createYAxisPlugin(),
          ]
        }
      },
      auxiliaryDrawers: [
        {
          constructor: CandleStickVolumeDrawer,
        }
      ],
      detailProvider(i, data) {
        const datum = data[i];
        const WEEK_DAY_MAP = {
          0: '周日',
          1: '周一',
          2: '周二',
          3: '周三',
          4: '周四',
          5: '周五',
          6: '周六',
        };
        const date = new Date(data[i].time.replace(/-/g, '/'));
 // fix error on safari
        const riseColor = '#F55559';
        const fallColor = '#7DCE8D';

        const autoColor = (key) => {
          if (i === 0) return riseColor;
          return data[i][key] > data[i - 1].close ? riseColor : fallColor;
        };
        return {
          title: `${formateDate(date, 'yyyy/MM/dd')} ${WEEK_DAY_MAP[date.getDay()]}`,
          tables: [
            {
              color: autoColor('close'),
              name: '收盘',
              value: datum.close.toFixed(2),
            },
            {
              color: autoColor('open'),
              name: '开盘',
              value: datum.open.toFixed(2),
            },
            {
              color: autoColor('high'),
              name: '最高',
              value: datum.open.toFixed(2),
            },
            {
              color: autoColor('low'),
              name: '最低',
              value: datum.open.toFixed(2),
            },
          ],
        };
      },
      onMoreData(step) {
        return step < 0 && fetchCandleSticks(this.movableRange.data.length);
      }
    });

    this.fetch();
  }
  fetch() {
    fetchCandleSticks()
      .then(data => this.chart.setData(data))
  }
  render() {
    return (
      <div
        style={{
          width: '100%',
          height: '500px',
        }}
        ref={ref => this.rootNode = ref}
      >
      </div>
    )
  }
}

export default CandleStickChart;

const MOCK_DATA = [
  {
    "time": "2017-6-23 0:0:0",
    "open": 9.229998588562012,
    "high": 9.270001411437988,
    "low": 9.15999984741211,
    "close": 9.25,
    "volume": 58400440
  },
  {
    "time": "2017-6-26 0:0:0",
    "open": 9.260001182556152,
    "high": 9.399999618530273,
    "low": 9.260001182556152,
    "close": 9.300000190734863,
    "volume": 64944716
  },
  {
    "time": "2017-6-27 0:0:0",
    "open": 9.300000190734863,
    "high": 9.390000343322754,
    "low": 9.270001411437988,
    "close": 9.359999656677246,
    "volume": 54601612
  },
  {
    "time": "2017-6-28 0:0:0",
    "open": 9.350000381469727,
    "high": 9.489998817443848,
    "low": 9.329999923706055,
    "close": 9.430000305175781,
    "volume": 116879624
  },
  {
    "time": "2017-6-29 0:0:0",
    "open": 9.430000305175781,
    "high": 9.449999809265137,
    "low": 9.369999885559082,
    "close": 9.430000305175781,
    "volume": 48880456
  },
  {
    "time": "2017-6-30 0:0:0",
    "open": 9.399999618530273,
    "high": 9.430000305175781,
    "low": 9.310001373291016,
    "close": 9.390000343322754,
    "volume": 49963348
  },
  {
    "time": "2017-7-3 0:0:0",
    "open": 9.399999618530273,
    "high": 9.430000305175781,
    "low": 9.34000015258789,
    "close": 9.399999618530273,
    "volume": 38834936
  },
  {
    "time": "2017-7-4 0:0:0",
    "open": 9.399999618530273,
    "high": 9.40999984741211,
    "low": 9.300000190734863,
    "close": 9.34000015258789,
    "volume": 48836252
  },
  {
    "time": "2017-7-5 0:0:0",
    "open": 9.289999961853027,
    "high": 9.380000114440918,
    "low": 9.270001411437988,
    "close": 9.369999885559082,
    "volume": 56772000
  },
  {
    "time": "2017-7-6 0:0:0",
    "open": 9.359999656677246,
    "high": 9.40999984741211,
    "low": 9.310001373291016,
    "close": 9.399999618530273,
    "volume": 73891184
  },
  {
    "time": "2017-7-7 0:0:0",
    "open": 9.369999885559082,
    "high": 9.479998588562012,
    "low": 9.34000015258789,
    "close": 9.470001220703125,
    "volume": 76036960
  },
  {
    "time": "2017-7-10 0:0:0",
    "open": 9.449999809265137,
    "high": 9.65999984741211,
    "low": 9.439998626708984,
    "close": 9.59000015258789,
    "volume": 136081584
  },
  {
    "time": "2017-7-11 0:0:0",
    "open": 9.609999656677246,
    "high": 10.460000038146973,
    "low": 9.609999656677246,
    "close": 10.25,
    "volume": 381208672
  },
  {
    "time": "2017-7-12 0:0:0",
    "open": 10.270000457763672,
    "high": 10.579999923706055,
    "low": 10.199999809265137,
    "close": 10.34000015258789,
    "volume": 299884416
  },
  {
    "time": "2017-7-13 0:0:0",
    "open": 10.300000190734863,
    "high": 10.899999618530273,
    "low": 10.239998817443848,
    "close": 10.899999618530273,
    "volume": 299453440
  },
  {
    "time": "2017-7-14 0:0:0",
    "open": 10.8100004196167,
    "high": 10.9399995803833,
    "low": 10.65999984741211,
    "close": 10.899999618530273,
    "volume": 172257024
  },
  {
    "time": "2017-7-17 0:0:0",
    "open": 10.949999809265137,
    "high": 11.329999923706055,
    "low": 10.720000267028809,
    "close": 10.8100004196167,
    "volume": 327312320
  },
  {
    "time": "2017-7-18 0:0:0",
    "open": 10.75,
    "high": 11.140000343322754,
    "low": 10.619999885559082,
    "close": 11.050000190734863,
    "volume": 234943184
  },
  {
    "time": "2017-7-19 0:0:0",
    "open": 10.989999771118164,
    "high": 11.1899995803833,
    "low": 10.880000114440918,
    "close": 11.09000015258789,
    "volume": 193307584
  },
  {
    "time": "2017-7-20 0:0:0",
    "open": 11.079999923706055,
    "high": 11.220000267028809,
    "low": 10.90999984741211,
    "close": 10.970000267028809,
    "volume": 153733856
  },
  {
    "time": "2017-7-21 0:0:0",
    "open": 10.829999923706055,
    "high": 10.949999809265137,
    "low": 10.6899995803833,
    "close": 10.890000343322754,
    "volume": 150102000
  },
  {
    "time": "2017-7-24 0:0:0",
    "open": 10.819999694824219,
    "high": 11.0600004196167,
    "low": 10.729999542236328,
    "close": 10.949999809265137,
    "volume": 169266432
  },
  {
    "time": "2017-7-25 0:0:0",
    "open": 10.979999542236328,
    "high": 11.270000457763672,
    "low": 10.949999809265137,
    "close": 11,
    "volume": 195476832
  },
  {
    "time": "2017-7-26 0:0:0",
    "open": 10.920000076293945,
    "high": 11.180000305175781,
    "low": 10.65999984741211,
    "close": 10.739999771118164,
    "volume": 169741216
  },
  {
    "time": "2017-7-27 0:0:0",
    "open": 10.720000267028809,
    "high": 10.770000457763672,
    "low": 10.529999732971191,
    "close": 10.59000015258789,
    "volume": 119449040
  },
  {
    "time": "2017-7-28 0:0:0",
    "open": 10.609999656677246,
    "high": 10.8100004196167,
    "low": 10.579999923706055,
    "close": 10.739999771118164,
    "volume": 81919536
  },
  {
    "time": "2017-7-31 0:0:0",
    "open": 10.800000190734863,
    "high": 10.819999694824219,
    "low": 10.449999809265137,
    "close": 10.670000076293945,
    "volume": 157586432
  },
  {
    "time": "2017-8-1 0:0:0",
    "open": 10.640000343322754,
    "high": 11.079999923706055,
    "low": 10.600000381469727,
    "close": 11.039999961853027,
    "volume": 203571008
  },
  {
    "time": "2017-8-2 0:0:0",
    "open": 11.050000190734863,
    "high": 11.34000015258789,
    "low": 10.960000038146973,
    "close": 11.149999618530273,
    "volume": 206206912
  },
  {
    "time": "2017-8-3 0:0:0",
    "open": 11.140000343322754,
    "high": 11.220000267028809,
    "low": 10.970000267028809,
    "close": 11.010000228881836,
    "volume": 98421936
  },
  {
    "time": "2017-8-4 0:0:0",
    "open": 11,
    "high": 11.289999961853027,
    "low": 10.930000305175781,
    "close": 11.170000076293945,
    "volume": 135395152
  },
  {
    "time": "2017-8-7 0:0:0",
    "open": 11.0600004196167,
    "high": 11.170000076293945,
    "low": 10.899999618530273,
    "close": 11,
    "volume": 86064424
  },
  {
    "time": "2017-8-8 0:0:0",
    "open": 11,
    "high": 11.109999656677246,
    "low": 10.90999984741211,
    "close": 11.050000190734863,
    "volume": 68956744
  },
  {
    "time": "2017-8-9 0:0:0",
    "open": 10.960000038146973,
    "high": 11.020000457763672,
    "low": 10.680000305175781,
    "close": 10.729999542236328,
    "volume": 104232184
  },
  {
    "time": "2017-8-10 0:0:0",
    "open": 10.699999809265137,
    "high": 10.819999694824219,
    "low": 10.539999961853027,
    "close": 10.619999885559082,
    "volume": 95988000
  },
  {
    "time": "2017-8-11 0:0:0",
    "open": 10.479999542236328,
    "high": 10.539999961853027,
    "low": 9.989998817443848,
    "close": 10.020001411437988,
    "volume": 244064336
  },
  {
    "time": "2017-8-14 0:0:0",
    "open": 10.130000114440918,
    "high": 10.25,
    "low": 10.039999961853027,
    "close": 10.220001220703125,
    "volume": 115766464
  },
  {
    "time": "2017-8-15 0:0:0",
    "open": 10.239998817443848,
    "high": 10.510000228881836,
    "low": 10.210000038146973,
    "close": 10.3100004196167,
    "volume": 107516232
  },
  {
    "time": "2017-8-16 0:0:0",
    "open": 10.289999961853027,
    "high": 10.369999885559082,
    "low": 10.149999618530273,
    "close": 10.34000015258789,
    "volume": 75680600
  },
  {
    "time": "2017-8-17 0:0:0",
    "open": 10.350000381469727,
    "high": 10.420000076293945,
    "low": 10.289999961853027,
    "close": 10.420000076293945,
    "volume": 55364212
  },
  {
    "time": "2017-8-18 0:0:0",
    "open": 10.359999656677246,
    "high": 10.600000381469727,
    "low": 10.289999961853027,
    "close": 10.4399995803833,
    "volume": 61652040
  },
  {
    "time": "2017-8-21 0:0:0",
    "open": 10.430000305175781,
    "high": 10.520000457763672,
    "low": 10.390000343322754,
    "close": 10.460000038146973,
    "volume": 39915488
  },
  {
    "time": "2017-8-22 0:0:0",
    "open": 10.479999542236328,
    "high": 10.65999984741211,
    "low": 10.369999885559082,
    "close": 10.649999618530273,
    "volume": 87568184
  },
  {
    "time": "2017-8-23 0:0:0",
    "open": 10.630000114440918,
    "high": 10.979999542236328,
    "low": 10.59000015258789,
    "close": 10.899999618530273,
    "volume": 131915192
  },
  {
    "time": "2017-8-24 0:0:0",
    "open": 10.890000343322754,
    "high": 11.109999656677246,
    "low": 10.84000015258789,
    "close": 10.930000305175781,
    "volume": 92424864
  },
  {
    "time": "2017-8-25 0:0:0",
    "open": 10.9399995803833,
    "high": 11.170000076293945,
    "low": 10.899999618530273,
    "close": 11.109999656677246,
    "volume": 96394000
  },
  {
    "time": "2017-8-28 0:0:0",
    "open": 11.100000381469727,
    "high": 11.539999961853027,
    "low": 11.100000381469727,
    "close": 11.350000381469727,
    "volume": 160393824
  },
  {
    "time": "2017-8-29 0:0:0",
    "open": 11.300000190734863,
    "high": 11.739999771118164,
    "low": 11.279999732971191,
    "close": 11.670000076293945,
    "volume": 135798368
  },
  {
    "time": "2017-8-30 0:0:0",
    "open": 11.680000305175781,
    "high": 11.699999809265137,
    "low": 11.350000381469727,
    "close": 11.430000305175781,
    "volume": 109667472
  },
  {
    "time": "2017-8-31 0:0:0",
    "open": 11.390000343322754,
    "high": 11.4399995803833,
    "low": 11.149999618530273,
    "close": 11.279999732971191,
    "volume": 115178648
  },
  {
    "time": "2017-9-1 0:0:0",
    "open": 11.279999732971191,
    "high": 11.390000343322754,
    "low": 11.149999618530273,
    "close": 11.210000038146973,
    "volume": 95997688
  },
  {
    "time": "2017-9-4 0:0:0",
    "open": 11.180000305175781,
    "high": 11.720000267028809,
    "low": 11.170000076293945,
    "close": 11.720000267028809,
    "volume": 135232560
  },
  {
    "time": "2017-9-5 0:0:0",
    "open": 11.680000305175781,
    "high": 11.9399995803833,
    "low": 11.600000381469727,
    "close": 11.640000343322754,
    "volume": 128751872
  },
  {
    "time": "2017-9-6 0:0:0",
    "open": 11.59000015258789,
    "high": 11.880000114440918,
    "low": 11.479999542236328,
    "close": 11.699999809265137,
    "volume": 79162152
  },
  {
    "time": "2017-9-7 0:0:0",
    "open": 11.649999618530273,
    "high": 11.75,
    "low": 11.390000343322754,
    "close": 11.4399995803833,
    "volume": 61418724
  },
  {
    "time": "2017-9-8 0:0:0",
    "open": 11.460000038146973,
    "high": 11.640000343322754,
    "low": 11.380000114440918,
    "close": 11.489999771118164,
    "volume": 48127616
  },
  {
    "time": "2017-9-11 0:0:0",
    "open": 11.539999961853027,
    "high": 11.6899995803833,
    "low": 11.300000190734863,
    "close": 11.380000114440918,
    "volume": 69947272
  },
  {
    "time": "2017-9-12 0:0:0",
    "open": 11.380000114440918,
    "high": 11.539999961853027,
    "low": 11.270000457763672,
    "close": 11.539999961853027,
    "volume": 84618344
  },
  {
    "time": "2017-9-13 0:0:0",
    "open": 11.489999771118164,
    "high": 11.539999961853027,
    "low": 11.34000015258789,
    "close": 11.430000305175781,
    "volume": 66823744
  },
  {
    "time": "2017-9-14 0:0:0",
    "open": 11.430000305175781,
    "high": 11.59000015258789,
    "low": 11.239999771118164,
    "close": 11.319999694824219,
    "volume": 88308776
  },
  {
    "time": "2017-9-15 0:0:0",
    "open": 11.289999961853027,
    "high": 11.319999694824219,
    "low": 11.149999618530273,
    "close": 11.289999961853027,
    "volume": 64609480
  },
  {
    "time": "2017-9-18 0:0:0",
    "open": 11.25,
    "high": 11.319999694824219,
    "low": 11.199999809265137,
    "close": 11.25,
    "volume": 60761296
  },
  {
    "time": "2017-9-19 0:0:0",
    "open": 11.25,
    "high": 11.34000015258789,
    "low": 11.079999923706055,
    "close": 11.130000114440918,
    "volume": 76421264
  },
  {
    "time": "2017-9-20 0:0:0",
    "open": 11.140000343322754,
    "high": 11.369999885559082,
    "low": 11.050000190734863,
    "close": 11.289999961853027,
    "volume": 78715472
  },
  {
    "time": "2017-9-21 0:0:0",
    "open": 11.260000228881836,
    "high": 11.510000228881836,
    "low": 11.199999809265137,
    "close": 11.460000038146973,
    "volume": 69240792
  },
  {
    "time": "2017-9-22 0:0:0",
    "open": 11.430000305175781,
    "high": 11.520000457763672,
    "low": 11.3100004196167,
    "close": 11.4399995803833,
    "volume": 59392760
  },
  {
    "time": "2017-9-25 0:0:0",
    "open": 11.4399995803833,
    "high": 11.449999809265137,
    "low": 11.180000305175781,
    "close": 11.289999961853027,
    "volume": 53239104
  },
  {
    "time": "2017-9-26 0:0:0",
    "open": 11.260000228881836,
    "high": 11.300000190734863,
    "low": 10.960000038146973,
    "close": 11.050000190734863,
    "volume": 96746088
  },
  {
    "time": "2017-9-27 0:0:0",
    "open": 11.010000228881836,
    "high": 11.079999923706055,
    "low": 10.899999618530273,
    "close": 10.930000305175781,
    "volume": 72718816
  },
  {
    "time": "2017-9-28 0:0:0",
    "open": 10.979999542236328,
    "high": 10.979999542236328,
    "low": 10.819999694824219,
    "close": 10.880000114440918,
    "volume": 51722000
  },
  {
    "time": "2017-9-29 0:0:0",
    "open": 10.920000076293945,
    "high": 11.15999984741211,
    "low": 10.859999656677246,
    "close": 11.109999656677246,
    "volume": 68228008
  },
  {
    "time": "2017-10-9 0:0:0",
    "open": 11.569999694824219,
    "high": 11.640000343322754,
    "low": 11.260000228881836,
    "close": 11.300000190734863,
    "volume": 132522728
  },
  {
    "time": "2017-10-10 0:0:0",
    "open": 11.329999923706055,
    "high": 11.5,
    "low": 11.329999923706055,
    "close": 11.470000267028809,
    "volume": 74792528
  },
  {
    "time": "2017-10-11 0:0:0",
    "open": 11.479999542236328,
    "high": 11.579999923706055,
    "low": 11.34000015258789,
    "close": 11.529999732971191,
    "volume": 65807760
  },
  {
    "time": "2017-10-12 0:0:0",
    "open": 11.539999961853027,
    "high": 11.579999923706055,
    "low": 11.470000267028809,
    "close": 11.550000190734863,
    "volume": 57806532
  },
  {
    "time": "2017-10-13 0:0:0",
    "open": 11.5600004196167,
    "high": 11.5600004196167,
    "low": 11.25,
    "close": 11.359999656677246,
    "volume": 73737600
  },
  {
    "time": "2017-10-16 0:0:0",
    "open": 11.359999656677246,
    "high": 11.600000381469727,
    "low": 11.289999961853027,
    "close": 11.59000015258789,
    "volume": 103625064
  },
  {
    "time": "2017-10-17 0:0:0",
    "open": 11.619999885559082,
    "high": 11.649999618530273,
    "low": 11.479999542236328,
    "close": 11.510000228881836,
    "volume": 50637232
  },
  {
    "time": "2017-10-18 0:0:0",
    "open": 11.529999732971191,
    "high": 11.699999809265137,
    "low": 11.510000228881836,
    "close": 11.6899995803833,
    "volume": 87136536
  },
  {
    "time": "2017-10-19 0:0:0",
    "open": 11.640000343322754,
    "high": 11.720000267028809,
    "low": 11.569999694824219,
    "close": 11.630000114440918,
    "volume": 72276480
  },
  {
    "time": "2017-10-20 0:0:0",
    "open": 11.59000015258789,
    "high": 11.59000015258789,
    "low": 11.40999984741211,
    "close": 11.479999542236328,
    "volume": 46180808
  },
  {
    "time": "2017-10-23 0:0:0",
    "open": 11.390000343322754,
    "high": 11.399999618530273,
    "low": 11.149999618530273,
    "close": 11.1899995803833,
    "volume": 107446504
  },
  {
    "time": "2017-10-24 0:0:0",
    "open": 11.199999809265137,
    "high": 11.420000076293945,
    "low": 11.180000305175781,
    "close": 11.390000343322754,
    "volume": 61887192
  },
  {
    "time": "2017-10-25 0:0:0",
    "open": 11.359999656677246,
    "high": 11.369999885559082,
    "low": 11.25,
    "close": 11.270000457763672,
    "volume": 41857360
  },
  {
    "time": "2017-10-26 0:0:0",
    "open": 11.25,
    "high": 11.319999694824219,
    "low": 11.119999885559082,
    "close": 11.180000305175781,
    "volume": 92899608
  },
  {
    "time": "2017-10-27 0:0:0",
    "open": 11.1899995803833,
    "high": 11.5600004196167,
    "low": 11.180000305175781,
    "close": 11.5600004196167,
    "volume": 136008640
  },
  {
    "time": "2017-10-30 0:0:0",
    "open": 11.550000190734863,
    "high": 11.729999542236328,
    "low": 11.449999809265137,
    "close": 11.5600004196167,
    "volume": 127824696
  },
  {
    "time": "2017-10-31 0:0:0",
    "open": 11.550000190734863,
    "high": 11.579999923706055,
    "low": 11.390000343322754,
    "close": 11.539999961853027,
    "volume": 62749136
  },
  {
    "time": "2017-11-1 0:0:0",
    "open": 11.5600004196167,
    "high": 11.59000015258789,
    "low": 11.319999694824219,
    "close": 11.399999618530273,
    "volume": 69261792
  },
  {
    "time": "2017-11-2 0:0:0",
    "open": 11.359999656677246,
    "high": 11.579999923706055,
    "low": 11.260000228881836,
    "close": 11.539999961853027,
    "volume": 60430848
  },
  {
    "time": "2017-11-3 0:0:0",
    "open": 11.489999771118164,
    "high": 11.680000305175781,
    "low": 11.350000381469727,
    "close": 11.390000343322754,
    "volume": 74334320
  },
  {
    "time": "2017-11-6 0:0:0",
    "open": 11.420000076293945,
    "high": 11.420000076293945,
    "low": 11.09000015258789,
    "close": 11.279999732971191,
    "volume": 102990280
  },
  {
    "time": "2017-11-7 0:0:0",
    "open": 11.270000457763672,
    "high": 12.09000015258789,
    "low": 11.25,
    "close": 11.920000076293945,
    "volume": 247716320
  },
  {
    "time": "2017-11-8 0:0:0",
    "open": 12,
    "high": 12.59000015258789,
    "low": 11.930000305175781,
    "close": 12.130000114440918,
    "volume": 426282560
  },
  {
    "time": "2017-11-9 0:0:0",
    "open": 12.199999809265137,
    "high": 12.569999694824219,
    "low": 12.149999618530273,
    "close": 12.329999923706055,
    "volume": 229528928
  },
  {
    "time": "2017-11-10 0:0:0",
    "open": 12.369999885559082,
    "high": 12.550000190734863,
    "low": 12.149999618530273,
    "close": 12.300000190734863,
    "volume": 175755232
  },
  {
    "time": "2017-11-13 0:0:0",
    "open": 12.350000381469727,
    "high": 13.100000381469727,
    "low": 12.350000381469727,
    "close": 12.899999618530273,
    "volume": 256690624
  },
  {
    "time": "2017-11-14 0:0:0",
    "open": 12.949999809265137,
    "high": 13.260000228881836,
    "low": 12.8100004196167,
    "close": 12.949999809265137,
    "volume": 178030240
  },
  {
    "time": "2017-11-15 0:0:0",
    "open": 12.899999618530273,
    "high": 13.130000114440918,
    "low": 12.770000457763672,
    "close": 12.899999618530273,
    "volume": 126305224
  },
  {
    "time": "2017-11-16 0:0:0",
    "open": 12.899999618530273,
    "high": 13.119999885559082,
    "low": 12.670000076293945,
    "close": 13.100000381469727,
    "volume": 120081480
  },
  {
    "time": "2017-11-17 0:0:0",
    "open": 13.170000076293945,
    "high": 13.460000038146973,
    "low": 13.029999732971191,
    "close": 13.180000305175781,
    "volume": 206414976
  },
  {
    "time": "2017-11-20 0:0:0",
    "open": 13.130000114440918,
    "high": 14.25,
    "low": 13.050000190734863,
    "close": 14.25,
    "volume": 284392576
  },
  {
    "time": "2017-11-21 0:0:0",
    "open": 14.069999694824219,
    "high": 14.789999961853027,
    "low": 14.010000228881836,
    "close": 14.449999809265137,
    "volume": 249532784
  },
  {
    "time": "2017-11-22 0:0:0",
    "open": 14.479998588562012,
    "high": 15.239999771118164,
    "low": 14.479998588562012,
    "close": 15.100000381469727,
    "volume": 257023168
  },
  {
    "time": "2017-11-23 0:0:0",
    "open": 15.149999618530273,
    "high": 15.239999771118164,
    "low": 14.069999694824219,
    "close": 14.350000381469727,
    "volume": 242914208
  },
  {
    "time": "2017-11-24 0:0:0",
    "open": 14.289999961853027,
    "high": 14.59000015258789,
    "low": 13.779999732971191,
    "close": 14.5600004196167,
    "volume": 263018960
  },
  {
    "time": "2017-11-27 0:0:0",
    "open": 14.300000190734863,
    "high": 14.300000190734863,
    "low": 13.75,
    "close": 13.930000305175781,
    "volume": 206408512
  },
  {
    "time": "2017-11-28 0:0:0",
    "open": 13.850000381469727,
    "high": 13.850000381469727,
    "low": 13.399999618530273,
    "close": 13.699999809265137,
    "volume": 176643232
  },
  {
    "time": "2017-11-29 0:0:0",
    "open": 13.729998588562012,
    "high": 13.930000305175781,
    "low": 13.470000267028809,
    "close": 13.819999694824219,
    "volume": 156409488
  },
  {
    "time": "2017-11-30 0:0:0",
    "open": 13.699999809265137,
    "high": 13.729998588562012,
    "low": 13.260000228881836,
    "close": 13.380000114440918,
    "volume": 137963568
  },
  {
    "time": "2017-12-1 0:0:0",
    "open": 13.399999618530273,
    "high": 13.479998588562012,
    "low": 12.960000038146973,
    "close": 13,
    "volume": 178493312
  },
  {
    "time": "2017-12-4 0:0:0",
    "open": 13.050000190734863,
    "high": 13.369999885559082,
    "low": 13,
    "close": 13.300000190734863,
    "volume": 145402352
  },
  {
    "time": "2017-12-5 0:0:0",
    "open": 13.149999618530273,
    "high": 13.489999771118164,
    "low": 13.100000381469727,
    "close": 13.300000190734863,
    "volume": 172368128
  },
  {
    "time": "2017-12-6 0:0:0",
    "open": 13.260000228881836,
    "high": 13.270001411437988,
    "low": 12.789999961853027,
    "close": 13.079999923706055,
    "volume": 161984496
  },
  {
    "time": "2017-12-7 0:0:0",
    "open": 13.050000190734863,
    "high": 13.14000129699707,
    "low": 12.75,
    "close": 12.829999923706055,
    "volume": 118195784
  },
  {
    "time": "2017-12-8 0:0:0",
    "open": 12.89000129699707,
    "high": 13.09000015258789,
    "low": 12.75,
    "close": 13.09000015258789,
    "volume": 135131504
  },
  {
    "time": "2017-12-11 0:0:0",
    "open": 13.079999923706055,
    "high": 13.569999694824219,
    "low": 12.880000114440918,
    "close": 13.5,
    "volume": 226195280
  },
  {
    "time": "2017-12-12 0:0:0",
    "open": 13.399999618530273,
    "high": 13.479998588562012,
    "low": 13.020001411437988,
    "close": 13.020001411437988,
    "volume": 174340576
  },
  {
    "time": "2017-12-13 0:0:0",
    "open": 13,
    "high": 13.199999809265137,
    "low": 12.880000114440918,
    "close": 13.130000114440918,
    "volume": 128924808
  },
  {
    "time": "2017-12-14 0:0:0",
    "open": 13.149999618530273,
    "high": 13.3100004196167,
    "low": 12.90999984741211,
    "close": 13,
    "volume": 100199800
  },
  {
    "time": "2017-12-15 0:0:0",
    "open": 12.899999618530273,
    "high": 12.930000305175781,
    "low": 12.670000076293945,
    "close": 12.720000267028809,
    "volume": 109995248
  },
  {
    "time": "2017-12-18 0:0:0",
    "open": 12.729999542236328,
    "high": 12.90999984741211,
    "low": 12.640000343322754,
    "close": 12.75,
    "volume": 80546448
  },
  {
    "time": "2017-12-19 0:0:0",
    "open": 12.789999961853027,
    "high": 13.319999694824219,
    "low": 12.739999771118164,
    "close": 13.279999732971191,
    "volume": 239794272
  },
  {
    "time": "2017-12-20 0:0:0",
    "open": 13.199999809265137,
    "high": 13.3100004196167,
    "low": 13.130000114440918,
    "close": 13.260000228881836,
    "volume": 110624504
  },
  {
    "time": "2017-12-21 0:0:0",
    "open": 13.180000305175781,
    "high": 13.680000305175781,
    "low": 13.15999984741211,
    "close": 13.539999961853027,
    "volume": 148520352
  },
  {
    "time": "2017-12-22 0:0:0",
    "open": 13.5,
    "high": 13.630000114440918,
    "low": 13.449999809265137,
    "close": 13.520001411437988,
    "volume": 74290096
  },
  {
    "time": "2017-12-25 0:0:0",
    "open": 13.520001411437988,
    "high": 13.85999870300293,
    "low": 13.15999984741211,
    "close": 13.25,
    "volume": 158556720
  },
  {
    "time": "2017-12-26 0:0:0",
    "open": 13.260000228881836,
    "high": 13.6899995803833,
    "low": 13.1899995803833,
    "close": 13.65999984741211,
    "volume": 112368848
  },
  {
    "time": "2017-12-27 0:0:0",
    "open": 13.579999923706055,
    "high": 13.779999732971191,
    "low": 13.1899995803833,
    "close": 13.289999961853027,
    "volume": 136656672
  },
  {
    "time": "2017-12-28 0:0:0",
    "open": 13.279999732971191,
    "high": 13.460000038146973,
    "low": 13.020001411437988,
    "close": 13.210000038146973,
    "volume": 155303040
  },
  {
    "time": "2017-12-29 0:0:0",
    "open": 13.210000038146973,
    "high": 13.430000305175781,
    "low": 13.100000381469727,
    "close": 13.300000190734863,
    "volume": 98291552
  },
  {
    "time": "2018-1-2 0:0:0",
    "open": 13.350000381469727,
    "high": 13.930000305175781,
    "low": 13.319999694824219,
    "close": 13.699999809265137,
    "volume": 208159232
  },
  {
    "time": "2018-1-3 0:0:0",
    "open": 13.729998588562012,
    "high": 13.85999870300293,
    "low": 13.199999809265137,
    "close": 13.329999923706055,
    "volume": 296249824
  },
  {
    "time": "2018-1-4 0:0:0",
    "open": 13.319999694824219,
    "high": 13.369999885559082,
    "low": 13.130000114440918,
    "close": 13.25,
    "volume": 185450944
  },
  {
    "time": "2018-1-5 0:0:0",
    "open": 13.210000038146973,
    "high": 13.350000381469727,
    "low": 13.149999618530273,
    "close": 13.300000190734863,
    "volume": 121031272
  },
  {
    "time": "2018-1-8 0:0:0",
    "open": 13.25,
    "high": 13.289999961853027,
    "low": 12.85999870300293,
    "close": 12.960000038146973,
    "volume": 215862080
  },
  {
    "time": "2018-1-9 0:0:0",
    "open": 12.960000038146973,
    "high": 13.199999809265137,
    "low": 12.920000076293945,
    "close": 13.079999923706055,
    "volume": 134434512
  },
  {
    "time": "2018-1-10 0:0:0",
    "open": 13.039999961853027,
    "high": 13.489999771118164,
    "low": 12.920000076293945,
    "close": 13.470000267028809,
    "volume": 240327744
  },
  {
    "time": "2018-1-11 0:0:0",
    "open": 13.40999984741211,
    "high": 13.59000015258789,
    "low": 13.270001411437988,
    "close": 13.399999618530273,
    "volume": 144387776
  },
  {
    "time": "2018-1-12 0:0:0",
    "open": 13.449999809265137,
    "high": 13.680000305175781,
    "low": 13.40999984741211,
    "close": 13.550000190734863,
    "volume": 135399136
  },
  {
    "time": "2018-1-15 0:0:0",
    "open": 13.510000228881836,
    "high": 14.329999923706055,
    "low": 13.5,
    "close": 14.199999809265137,
    "volume": 312239456
  },
  {
    "time": "2018-1-16 0:0:0",
    "open": 14.170000076293945,
    "high": 14.380000114440918,
    "low": 14.020001411437988,
    "close": 14.199999809265137,
    "volume": 244454896
  },
  {
    "time": "2018-1-17 0:0:0",
    "open": 14.329999923706055,
    "high": 14.800000190734863,
    "low": 14.199999809265137,
    "close": 14.229998588562012,
    "volume": 265629408
  },
  {
    "time": "2018-1-18 0:0:0",
    "open": 14.399999618530273,
    "high": 14.720000267028809,
    "low": 14.279999732971191,
    "close": 14.720000267028809,
    "volume": 214802688
  },
  {
    "time": "2018-1-19 0:0:0",
    "open": 14.800000190734863,
    "high": 15.130000114440918,
    "low": 14.680000305175781,
    "close": 14.800000190734863,
    "volume": 257114688
  },
  {
    "time": "2018-1-22 0:0:0",
    "open": 14.600000381469727,
    "high": 14.9399995803833,
    "low": 14.430000305175781,
    "close": 14.4399995803833,
    "volume": 207386720
  },
  {
    "time": "2018-1-23 0:0:0",
    "open": 14.35999870300293,
    "high": 14.899999618530273,
    "low": 14.329999923706055,
    "close": 14.649999618530273,
    "volume": 238879168
  },
  {
    "time": "2018-1-24 0:0:0",
    "open": 14.65999984741211,
    "high": 15.079999923706055,
    "low": 14.5,
    "close": 14.64000129699707,
    "volume": 259129216
  },
  {
    "time": "2018-1-25 0:0:0",
    "open": 14.449999809265137,
    "high": 14.470000267028809,
    "low": 14,
    "close": 14.199999809265137,
    "volume": 236998464
  },
  {
    "time": "2018-1-26 0:0:0",
    "open": 14.180000305175781,
    "high": 14.34000015258789,
    "low": 14.020001411437988,
    "close": 14.050000190734863,
    "volume": 203298864
  },
  {
    "time": "2018-1-29 0:0:0",
    "open": 14.050000190734863,
    "high": 14.25,
    "low": 13.600000381469727,
    "close": 13.739999771118164,
    "volume": 209054688
  },
  {
    "time": "2018-1-30 0:0:0",
    "open": 13.699999809265137,
    "high": 13.84000015258789,
    "low": 13.550000190734863,
    "close": 13.649999618530273,
    "volume": 109473984
  },
  {
    "time": "2018-1-31 0:0:0",
    "open": 13.600000381469727,
    "high": 14.050000190734863,
    "low": 13.529999732971191,
    "close": 14.050000190734863,
    "volume": 174772928
  },
  {
    "time": "2018-2-1 0:0:0",
    "open": 13.949999809265137,
    "high": 14.300000190734863,
    "low": 13.84000015258789,
    "close": 14.029999732971191,
    "volume": 200561472
  },
  {
    "time": "2018-2-2 0:0:0",
    "open": 13.90999984741211,
    "high": 14.100000381469727,
    "low": 13.630000114440918,
    "close": 14.050000190734863,
    "volume": 117651272
  },
  {
    "time": "2018-2-5 0:0:0",
    "open": 13.800000190734863,
    "high": 14.569999694824219,
    "low": 13.729998588562012,
    "close": 14.550000190734863,
    "volume": 233199808
  },
  {
    "time": "2018-2-6 0:0:0",
    "open": 14.229998588562012,
    "high": 14.329999923706055,
    "low": 13.930000305175781,
    "close": 14,
    "volume": 258287200
  },
  {
    "time": "2018-2-7 0:0:0",
    "open": 14.220000267028809,
    "high": 14.300000190734863,
    "low": 12.760000228881836,
    "close": 12.920000076293945,
    "volume": 334571712
  },
  {
    "time": "2018-2-8 0:0:0",
    "open": 12.829999923706055,
    "high": 12.920000076293945,
    "low": 12.529999732971191,
    "close": 12.539999961853027,
    "volume": 213781504
  },
  {
    "time": "2018-2-9 0:0:0",
    "open": 12.079999923706055,
    "high": 12.079999923706055,
    "low": 11.380000114440918,
    "close": 11.6899995803833,
    "volume": 282494976
  },
  {
    "time": "2018-2-12 0:0:0",
    "open": 11.779999732971191,
    "high": 11.84000015258789,
    "low": 11.5600004196167,
    "close": 11.720000267028809,
    "volume": 122878240
  },
  {
    "time": "2018-2-13 0:0:0",
    "open": 11.869999885559082,
    "high": 12.210000038146973,
    "low": 11.84000015258789,
    "close": 11.9399995803833,
    "volume": 129817872
  },
  {
    "time": "2018-2-14 0:0:0",
    "open": 11.960000038146973,
    "high": 12.029999732971191,
    "low": 11.760000228881836,
    "close": 12,
    "volume": 86419024
  },
  {
    "time": "2018-2-22 0:0:0",
    "open": 12.25,
    "high": 12.529999732971191,
    "low": 12.25,
    "close": 12.460000038146973,
    "volume": 126840608
  },
  {
    "time": "2018-2-23 0:0:0",
    "open": 12.579999923706055,
    "high": 12.789999961853027,
    "low": 12.449999809265137,
    "close": 12.609999656677246,
    "volume": 101366320
  },
  {
    "time": "2018-2-26 0:0:0",
    "open": 12.770000457763672,
    "high": 12.850000381469727,
    "low": 12.449999809265137,
    "close": 12.630000114440918,
    "volume": 104575872
  },
  {
    "time": "2018-2-27 0:0:0",
    "open": 12.640000343322754,
    "high": 12.699999809265137,
    "low": 12.1899995803833,
    "close": 12.279999732971191,
    "volume": 128586904
  },
  {
    "time": "2018-2-28 0:0:0",
    "open": 12.100000381469727,
    "high": 12.1899995803833,
    "low": 11.930000305175781,
    "close": 12.050000190734863,
    "volume": 121414560
  },
  {
    "time": "2018-3-1 0:0:0",
    "open": 11.920000076293945,
    "high": 12.149999618530273,
    "low": 11.899999618530273,
    "close": 12.039999961853027,
    "volume": 88695720
  },
  {
    "time": "2018-3-2 0:0:0",
    "open": 11.920000076293945,
    "high": 12.039999961853027,
    "low": 11.850000381469727,
    "close": 11.949999809265137,
    "volume": 66312416
  },
  {
    "time": "2018-3-5 0:0:0",
    "open": 11.930000305175781,
    "high": 12.079999923706055,
    "low": 11.800000190734863,
    "close": 11.859999656677246,
    "volume": 75418312
  },
  {
    "time": "2018-3-6 0:0:0",
    "open": 11.949999809265137,
    "high": 12.109999656677246,
    "low": 11.770000457763672,
    "close": 12.100000381469727,
    "volume": 115016248
  },
  {
    "time": "2018-3-7 0:0:0",
    "open": 12.149999618530273,
    "high": 12.34000015258789,
    "low": 12.039999961853027,
    "close": 12.050000190734863,
    "volume": 142757024
  },
  {
    "time": "2018-3-8 0:0:0",
    "open": 12.050000190734863,
    "high": 12.149999618530273,
    "low": 11.949999809265137,
    "close": 12.109999656677246,
    "volume": 68975504
  },
  {
    "time": "2018-3-9 0:0:0",
    "open": 12.149999618530273,
    "high": 12.199999809265137,
    "low": 11.979999542236328,
    "close": 12.09000015258789,
    "volume": 94387696
  },
  {
    "time": "2018-3-12 0:0:0",
    "open": 12.149999618530273,
    "high": 12.170000076293945,
    "low": 11.949999809265137,
    "close": 12.029999732971191,
    "volume": 126870128
  },
  {
    "time": "2018-3-13 0:0:0",
    "open": 12.039999961853027,
    "high": 12.220000267028809,
    "low": 12,
    "close": 12.020000457763672,
    "volume": 108226736
  },
  {
    "time": "2018-3-14 0:0:0",
    "open": 11.979999542236328,
    "high": 12,
    "low": 11.829999923706055,
    "close": 11.920000076293945,
    "volume": 63559412
  },
  {
    "time": "2018-3-15 0:0:0",
    "open": 11.789999961853027,
    "high": 11.850000381469727,
    "low": 11.65999984741211,
    "close": 11.710000038146973,
    "volume": 115569472
  },
  {
    "time": "2018-3-16 0:0:0",
    "open": 11.720000267028809,
    "high": 11.850000381469727,
    "low": 11.640000343322754,
    "close": 11.640000343322754,
    "volume": 96298336
  },
  {
    "time": "2018-3-19 0:0:0",
    "open": 11.65999984741211,
    "high": 11.84000015258789,
    "low": 11.609999656677246,
    "close": 11.829999923706055,
    "volume": 80853872
  },
  {
    "time": "2018-3-20 0:0:0",
    "open": 11.739999771118164,
    "high": 11.880000114440918,
    "low": 11.720000267028809,
    "close": 11.819999694824219,
    "volume": 77615000
  },
  {
    "time": "2018-3-21 0:0:0",
    "open": 11.949999809265137,
    "high": 12.119999885559082,
    "low": 11.850000381469727,
    "close": 11.899999618530273,
    "volume": 144510944
  },
  {
    "time": "2018-3-22 0:0:0",
    "open": 11.899999618530273,
    "high": 11.970000267028809,
    "low": 11.619999885559082,
    "close": 11.65999984741211,
    "volume": 98427840
  },
  {
    "time": "2018-3-23 0:0:0",
    "open": 11.25,
    "high": 11.350000381469727,
    "low": 10.920000076293945,
    "close": 11.34000015258789,
    "volume": 182569088
  },
  {
    "time": "2018-3-26 0:0:0",
    "open": 11.149999618530273,
    "high": 11.199999809265137,
    "low": 10.859999656677246,
    "close": 10.930000305175781,
    "volume": 138359856
  },
  {
    "time": "2018-3-27 0:0:0",
    "open": 11.100000381469727,
    "high": 11.170000076293945,
    "low": 10.859999656677246,
    "close": 10.9399995803833,
    "volume": 110393360
  },
  {
    "time": "2018-3-28 0:0:0",
    "open": 10.850000381469727,
    "high": 11.140000343322754,
    "low": 10.789999961853027,
    "close": 10.890000343322754,
    "volume": 109902336
  },
  {
    "time": "2018-3-29 0:0:0",
    "open": 10.920000076293945,
    "high": 11.170000076293945,
    "low": 10.550000190734863,
    "close": 11.050000190734863,
    "volume": 133060240
  },
  {
    "time": "2018-3-30 0:0:0",
    "open": 11.039999961853027,
    "high": 11.050000190734863,
    "low": 10.880000114440918,
    "close": 10.899999618530273,
    "volume": 75217368
  },
  {
    "time": "2018-4-2 0:0:0",
    "open": 10.869999885559082,
    "high": 10.989999771118164,
    "low": 10.699999809265137,
    "close": 10.710000038146973,
    "volume": 110931640
  },
  {
    "time": "2018-4-3 0:0:0",
    "open": 10.600000381469727,
    "high": 10.670000076293945,
    "low": 10.510000228881836,
    "close": 10.5600004196167,
    "volume": 89074568
  },
  {
    "time": "2018-4-4 0:0:0",
    "open": 10.680000305175781,
    "high": 11.010000228881836,
    "low": 10.600000381469727,
    "close": 10.869999885559082,
    "volume": 160248880
  },
  {
    "time": "2018-4-9 0:0:0",
    "open": 10.800000190734863,
    "high": 11.100000381469727,
    "low": 10.729999542236328,
    "close": 11.020000457763672,
    "volume": 107479576
  },
  {
    "time": "2018-4-10 0:0:0",
    "open": 11.020000457763672,
    "high": 11.460000038146973,
    "low": 10.970000267028809,
    "close": 11.420000076293945,
    "volume": 139095072
  },
  {
    "time": "2018-4-11 0:0:0",
    "open": 11.390000343322754,
    "high": 11.920000076293945,
    "low": 11.380000114440918,
    "close": 11.829999923706055,
    "volume": 209597040
  },
  {
    "time": "2018-4-12 0:0:0",
    "open": 11.800000190734863,
    "high": 11.829999923706055,
    "low": 11.420000076293945,
    "close": 11.520000457763672,
    "volume": 117312816
  },
  {
    "time": "2018-4-13 0:0:0",
    "open": 11.640000343322754,
    "high": 11.789999961853027,
    "low": 11.449999809265137,
    "close": 11.569999694824219,
    "volume": 130025600
  },
  {
    "time": "2018-4-16 0:0:0",
    "open": 11.470000267028809,
    "high": 11.470000267028809,
    "low": 11.029999732971191,
    "close": 11.100000381469727,
    "volume": 142707280
  },
  {
    "time": "2018-4-17 0:0:0",
    "open": 11.119999885559082,
    "high": 11.449999809265137,
    "low": 11.109999656677246,
    "close": 11.210000038146973,
    "volume": 130189168
  },
  {
    "time": "2018-4-18 0:0:0",
    "open": 11.449999809265137,
    "high": 11.609999656677246,
    "low": 11.279999732971191,
    "close": 11.5,
    "volume": 147584528
  },
  {
    "time": "2018-4-19 0:0:0",
    "open": 11.520000457763672,
    "high": 11.6899995803833,
    "low": 11.420000076293945,
    "close": 11.470000267028809,
    "volume": 84913184
  },
  {
    "time": "2018-4-20 0:0:0",
    "open": 11.510000228881836,
    "high": 11.579999923706055,
    "low": 11.199999809265137,
    "close": 11.350000381469727,
    "volume": 95869064
  },
  {
    "time": "2018-4-23 0:0:0",
    "open": 11.300000190734863,
    "high": 11.609999656677246,
    "low": 11.260000228881836,
    "close": 11.569999694824219,
    "volume": 107028936
  },
  {
    "time": "2018-4-24 0:0:0",
    "open": 11.630000114440918,
    "high": 11.9399995803833,
    "low": 11.579999923706055,
    "close": 11.859999656677246,
    "volume": 146109888
  },
  {
    "time": "2018-4-25 0:0:0",
    "open": 11.760000228881836,
    "high": 11.8100004196167,
    "low": 11.630000114440918,
    "close": 11.680000305175781,
    "volume": 73028648
  },
  {
    "time": "2018-4-26 0:0:0",
    "open": 11.65999984741211,
    "high": 11.6899995803833,
    "low": 11.3100004196167,
    "close": 11.420000076293945,
    "volume": 87423592
  },
  {
    "time": "2018-4-27 0:0:0",
    "open": 11.489999771118164,
    "high": 11.510000228881836,
    "low": 10.630000114440918,
    "close": 10.850000381469727,
    "volume": 270979584
  },
  {
    "time": "2018-5-2 0:0:0",
    "open": 10.970000267028809,
    "high": 11.029999732971191,
    "low": 10.800000190734863,
    "close": 10.880000114440918,
    "volume": 119052320
  },
  {
    "time": "2018-5-3 0:0:0",
    "open": 10.859999656677246,
    "high": 10.880000114440918,
    "low": 10.569999694824219,
    "close": 10.75,
    "volume": 128135560
  },
  {
    "time": "2018-5-4 0:0:0",
    "open": 10.729999542236328,
    "high": 10.829999923706055,
    "low": 10.65999984741211,
    "close": 10.680000305175781,
    "volume": 71050952
  },
  {
    "time": "2018-5-7 0:0:0",
    "open": 10.699999809265137,
    "high": 10.829999923706055,
    "low": 10.640000343322754,
    "close": 10.8100004196167,
    "volume": 97430968
  },
  {
    "time": "2018-5-8 0:0:0",
    "open": 10.829999923706055,
    "high": 11.149999618530273,
    "low": 10.800000190734863,
    "close": 11.010000228881836,
    "volume": 137330560
  },
  {
    "time": "2018-5-9 0:0:0",
    "open": 10.979999542236328,
    "high": 11.029999732971191,
    "low": 10.880000114440918,
    "close": 10.970000267028809,
    "volume": 62765612
  },
  {
    "time": "2018-5-10 0:0:0",
    "open": 11.029999732971191,
    "high": 11.09000015258789,
    "low": 10.90999984741211,
    "close": 11.010000228881836,
    "volume": 55273588
  },
  {
    "time": "2018-5-11 0:0:0",
    "open": 11.039999961853027,
    "high": 11.130000114440918,
    "low": 10.960000038146973,
    "close": 11.010000228881836,
    "volume": 77236968
  },
  {
    "time": "2018-5-14 0:0:0",
    "open": 11.09000015258789,
    "high": 11.229999542236328,
    "low": 11.029999732971191,
    "close": 11.180000305175781,
    "volume": 103929712
  },
  {
    "time": "2018-5-15 0:0:0",
    "open": 11.180000305175781,
    "high": 11.1899995803833,
    "low": 11.020000457763672,
    "close": 11.119999885559082,
    "volume": 66926144
  },
  {
    "time": "2018-5-16 0:0:0",
    "open": 11.069999694824219,
    "high": 11.069999694824219,
    "low": 10.890000343322754,
    "close": 10.899999618530273,
    "volume": 71436208
  },
  {
    "time": "2018-5-17 0:0:0",
    "open": 10.90999984741211,
    "high": 10.9399995803833,
    "low": 10.779999732971191,
    "close": 10.819999694824219,
    "volume": 58649440
  },
  {
    "time": "2018-5-18 0:0:0",
    "open": 10.8100004196167,
    "high": 10.970000267028809,
    "low": 10.760000228881836,
    "close": 10.960000038146973,
    "volume": 57838476
  },
  {
    "time": "2018-5-21 0:0:0",
    "open": 11.069999694824219,
    "high": 11.109999656677246,
    "low": 10.930000305175781,
    "close": 10.949999809265137,
    "volume": 76353360
  },
  {
    "time": "2018-5-22 0:0:0",
    "open": 10.949999809265137,
    "high": 10.979999542236328,
    "low": 10.789999961853027,
    "close": 10.859999656677246,
    "volume": 58987184
  },
  {
    "time": "2018-5-23 0:0:0",
    "open": 10.819999694824219,
    "high": 10.819999694824219,
    "low": 10.619999885559082,
    "close": 10.649999618530273,
    "volume": 99101632
  },
  {
    "time": "2018-5-24 0:0:0",
    "open": 10.65999984741211,
    "high": 10.680000305175781,
    "low": 10.579999923706055,
    "close": 10.609999656677246,
    "volume": 68815200
  },
  {
    "time": "2018-5-25 0:0:0",
    "open": 10.609999656677246,
    "high": 10.670000076293945,
    "low": 10.550000190734863,
    "close": 10.59000015258789,
    "volume": 59333568
  },
  {
    "time": "2018-5-28 0:0:0",
    "open": 10.579999923706055,
    "high": 10.65999984741211,
    "low": 10.510000228881836,
    "close": 10.59000015258789,
    "volume": 56940092
  },
  {
    "time": "2018-5-29 0:0:0",
    "open": 10.579999923706055,
    "high": 10.630000114440918,
    "low": 10.350000381469727,
    "close": 10.380000114440918,
    "volume": 88949496
  },
  {
    "time": "2018-5-30 0:0:0",
    "open": 10.289999961853027,
    "high": 10.289999961853027,
    "low": 10.050000190734863,
    "close": 10.079999923706055,
    "volume": 112444704
  },
  {
    "time": "2018-5-31 0:0:0",
    "open": 10.109999656677246,
    "high": 10.189998626708984,
    "low": 10.020001411437988,
    "close": 10.180000305175781,
    "volume": 98736040
  },
  {
    "time": "2018-6-1 0:0:0",
    "open": 10.149999618530273,
    "high": 10.289999961853027,
    "low": 10.069999694824219,
    "close": 10.189998626708984,
    "volume": 59721116
  },
  {
    "time": "2018-6-4 0:0:0",
    "open": 10.229998588562012,
    "high": 10.3100004196167,
    "low": 10.149999618530273,
    "close": 10.270000457763672,
    "volume": 59303836
  },
  {
    "time": "2018-6-5 0:0:0",
    "open": 10.289999961853027,
    "high": 10.300000190734863,
    "low": 10.109999656677246,
    "close": 10.260000228881836,
    "volume": 65654076
  },
  {
    "time": "2018-6-6 0:0:0",
    "open": 10.25,
    "high": 10.260000228881836,
    "low": 10.100000381469727,
    "close": 10.140000343322754,
    "volume": 71274344
  },
  {
    "time": "2018-6-7 0:0:0",
    "open": 10.199999809265137,
    "high": 10.460000038146973,
    "low": 10.180000305175781,
    "close": 10.369999885559082,
    "volume": 126263824
  },
  {
    "time": "2018-6-8 0:0:0",
    "open": 10.329999923706055,
    "high": 10.329999923706055,
    "low": 10.060001373291016,
    "close": 10.119999885559082,
    "volume": 109937984
  },
  {
    "time": "2018-6-11 0:0:0",
    "open": 10.060001373291016,
    "high": 10.130000114440918,
    "low": 10,
    "close": 10.039999961853027,
    "volume": 72137496
  },
  {
    "time": "2018-6-12 0:0:0",
    "open": 10.029998779296875,
    "high": 10.079999923706055,
    "low": 9.949999809265137,
    "close": 10.060001373291016,
    "volume": 91330072
  },
  {
    "time": "2018-6-13 0:0:0",
    "open": 10.039999961853027,
    "high": 10.060001373291016,
    "low": 9.949999809265137,
    "close": 9.949999809265137,
    "volume": 53058432
  },
  {
    "time": "2018-6-14 0:0:0",
    "open": 9.949999809265137,
    "high": 10.149999618530273,
    "low": 9.920000076293945,
    "close": 10.069999694824219,
    "volume": 86639200
  },
  {
    "time": "2018-6-15 0:0:0",
    "open": 10.079999923706055,
    "high": 10.289999961853027,
    "low": 10.060001373291016,
    "close": 10.170000076293945,
    "volume": 124870784
  },
  {
    "time": "2018-6-19 0:0:0",
    "open": 10.050000190734863,
    "high": 10.149999618530273,
    "low": 9.819999694824219,
    "close": 9.869999885559082,
    "volume": 156587440
  },
  {
    "time": "2018-6-20 0:0:0",
    "open": 9.869999885559082,
    "high": 9.949999809265137,
    "low": 9.760001182556152,
    "close": 9.90999984741211,
    "volume": 76363728
  },
  {
    "time": "2018-6-21 0:0:0",
    "open": 9.930000305175781,
    "high": 10.039999961853027,
    "low": 9.859999656677246,
    "close": 9.859999656677246,
    "volume": 84007080
  },
  {
    "time": "2018-6-22 0:0:0",
    "open": 9.800000190734863,
    "high": 9.869999885559082,
    "low": 9.770001411437988,
    "close": 9.850000381469727,
    "volume": 65781852
  },
  {
    "time": "2018-6-25 0:0:0",
    "open": 9.90999984741211,
    "high": 9.920000076293945,
    "low": 9.380000114440918,
    "close": 9.460000038146973,
    "volume": 119521264
  },
  {
    "time": "2018-6-26 0:0:0",
    "open": 9.390000343322754,
    "high": 9.439998626708984,
    "low": 9.09000015258789,
    "close": 9.359999656677246,
    "volume": 112415696
  },
  {
    "time": "2018-6-27 0:0:0",
    "open": 9.310001373291016,
    "high": 9.399999618530273,
    "low": 9.029998779296875,
    "close": 9.09000015258789,
    "volume": 104514272
  },
  {
    "time": "2018-6-28 0:0:0",
    "open": 8.949999809265137,
    "high": 9.079999923706055,
    "low": 8.869999885559082,
    "close": 8.920000076293945,
    "volume": 111076400
  },
  {
    "time": "2018-6-29 0:0:0",
    "open": 9.010001182556152,
    "high": 9.130000114440918,
    "low": 8.960000038146973,
    "close": 9.09000015258789,
    "volume": 67529968
  }
];

export function fetchCandleSticks(skip = 0, count = 60) {
  console.log('request candle stick data:');
  const end = MOCK_DATA.length - skip;
  const start = clamp(end - count, 0, end);
  const response = MOCK_DATA.slice(start, end);
  const delay = Math.random() * 100 + 10;
  console.group(`response more data in ${delay.toFixed(2)} ms: `);
  console.log(response);
  console.groupEnd();
  return new Promise((resolve) => {
    setTimeout(() => {
      resolve(response);
    }, delay);
  });
}
